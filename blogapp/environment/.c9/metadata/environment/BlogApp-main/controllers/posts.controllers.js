{"filter":false,"title":"posts.controllers.js","tooltip":"/BlogApp-main/controllers/posts.controllers.js","undoManager":{"mark":14,"position":14,"stack":[[{"start":{"row":17,"column":0},"end":{"row":24,"column":2},"action":"remove","lines":["const displayAllPosts = (req, res) => {","\tPost.find({}, function(err, posts) {","\t\tres.render('home', {","\t\t\tstartingContent: homeStartingContent,","\t\t\tposts: posts","\t\t});","\t});","};"],"id":2},{"start":{"row":17,"column":0},"end":{"row":25,"column":2},"action":"insert","lines":["const displayAllPosts = async (req, res) => {","  try {","    const posts = await Post.scan().exec(); // Use Dynamoose scan method to retrieve all posts","    res.render('posts', { posts: posts });","  } catch (error) {","    console.error(error);","    res.status(500).send('Internal Server Error');","  }","};"]}],[{"start":{"row":19,"column":44},"end":{"row":19,"column":94},"action":"remove","lines":["// Use Dynamoose scan method to retrieve all posts"],"id":3}],[{"start":{"row":6,"column":0},"end":{"row":15,"column":2},"action":"remove","lines":["const composePost = (req, res) => {","\tconst post = new Post({","    username: req.user.username,","\t\ttitle: req.body.postTitle,","\t\tcontent: req.body.postBody","\t});","","\tpost.save();","\tres.redirect('/post');","};"],"id":4},{"start":{"row":6,"column":0},"end":{"row":22,"column":2},"action":"insert","lines":["const composePost = async (req, res) => {","  // Validate request body...","","  const newPost = new Post({","    username: req.user.username,","    title: req.body.title,","    content: req.body.content,","  });","","  try {","    await newPost.save(); // Use Dynamoose save method to create a new post","    res.redirect('/post');","  } catch (error) {","    console.error(error);","    res.status(500).send('Internal Server Error');","  }","};"]}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":29},"action":"remove","lines":["  // Validate request body..."],"id":5},{"start":{"row":6,"column":41},"end":{"row":7,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":15,"column":26},"end":{"row":15,"column":75},"action":"remove","lines":["// Use Dynamoose save method to create a new post"],"id":6}],[{"start":{"row":32,"column":0},"end":{"row":41,"column":2},"action":"remove","lines":["async function displayPost (req, res)  {","\tconst requestedPostId = req.params.postId;","","\tPost.findOne({ _id: requestedPostId }, function(err, post) {","\t\tres.render('post', {","\t\t\ttitle: post.title,","\t\t\tcontent: post.content","\t\t});","\t});","};"],"id":7},{"start":{"row":32,"column":0},"end":{"row":51,"column":0},"action":"insert","lines":["async function displayPost(req, res) {","  const requestedPostId = req.params.postId;","","  try {","    const post = await Post.get(requestedPostId); // Use Dynamoose get method to retrieve a post by ID","    if (!post) {","      res.status(404).send('Post not found');","      return;","    }","","    res.render('post', {","      title: post.title,","      content: post.content,","    });","  } catch (error) {","    console.error(error);","    res.status(500).send('Internal Server Error');","  }","}",""]}],[{"start":{"row":36,"column":49},"end":{"row":36,"column":102},"action":"remove","lines":[" // Use Dynamoose get method to retrieve a post by ID"],"id":8}],[{"start":{"row":26,"column":20},"end":{"row":26,"column":21},"action":"remove","lines":["s"],"id":9}],[{"start":{"row":26,"column":29},"end":{"row":26,"column":30},"action":"remove","lines":["s"],"id":10}],[{"start":{"row":26,"column":35},"end":{"row":26,"column":36},"action":"remove","lines":["s"],"id":11}],[{"start":{"row":26,"column":35},"end":{"row":26,"column":36},"action":"insert","lines":["s"],"id":12}],[{"start":{"row":26,"column":35},"end":{"row":26,"column":36},"action":"remove","lines":["s"],"id":13},{"start":{"row":26,"column":34},"end":{"row":26,"column":35},"action":"remove","lines":["t"]},{"start":{"row":26,"column":33},"end":{"row":26,"column":34},"action":"remove","lines":["s"]},{"start":{"row":26,"column":32},"end":{"row":26,"column":33},"action":"remove","lines":["o"]},{"start":{"row":26,"column":31},"end":{"row":26,"column":32},"action":"remove","lines":["p"]},{"start":{"row":26,"column":30},"end":{"row":26,"column":31},"action":"remove","lines":[" "]},{"start":{"row":26,"column":29},"end":{"row":26,"column":30},"action":"remove","lines":[":"]},{"start":{"row":26,"column":28},"end":{"row":26,"column":29},"action":"remove","lines":["t"]}],[{"start":{"row":26,"column":28},"end":{"row":26,"column":29},"action":"insert","lines":["t"],"id":14},{"start":{"row":26,"column":29},"end":{"row":26,"column":30},"action":"insert","lines":["s"]}],[{"start":{"row":26,"column":29},"end":{"row":26,"column":30},"action":"remove","lines":["s"],"id":15}],[{"start":{"row":25,"column":14},"end":{"row":25,"column":15},"action":"remove","lines":["s"],"id":16}]]},"ace":{"folds":[],"scrolltop":300,"scrollleft":0,"selection":{"start":{"row":26,"column":33},"end":{"row":26,"column":33},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1702244164977,"hash":"562c6975ab57f5d6acebec8c403836ab368acb13"}